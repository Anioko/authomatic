





<!DOCTYPE html>



<!--[if IE 8]> 				 <html class="no-js lt-ie9" lang="en" prefix="og: http://ogp.me/ns#"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" prefix="og: http://ogp.me/ns#"> <!--<![endif]-->



<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width" />

	<title>Adapters | Authomatic</title>
    	<link rel="icon" type="image/x-icon" href="../_static/img/favicon.ico" />
	
	
	
	<meta property="og:title" content="Adapters | Authomatic" />
	<meta property="og:type" content="website" />
	<meta property="og:url" content="http://authomatic.org/reference/adapters.html" />
	<meta property="og:image" content="http://authomatic.org/_static/img/authomatic-seo.gif" />
	
	
	<meta property="og:description" content="Authomatic is an authorization / authentication client library for Python web applications inspired by Alex Vagin’s Simpleauth. In fact, I almost named it Deathsimpleauth, but that name would be too long for a succinct library." />
	<meta property="og:site_name" content="Authomatic" />
	
	
    
    
	<meta name="description" content="Authomatic is an authorization / authentication client library for Python web applications inspired by Alex Vagin’s Simpleauth. In fact, I almost named it Deathsimpleauth, but that name would be too long for a succinct library.">
    
	
	
	
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <link rel="stylesheet" href="../_static/css/authomatic.css" type="text/css" />
    	
	<script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    	<script type="text/javascript" src="../_static/jquery.js"></script>
    	<script type="text/javascript" src="../_static/underscore.js"></script>
    	<script type="text/javascript" src="../_static/doctools.js"></script>
    	<script type="text/javascript" src="../_static/foundation/js/vendor/custom.modernizr.js"></script>

</head>



<body><div id="root"><div class="contain-to-grid">
			<nav class="top-bar">
				<ul class="title-area">
					<li class="name">
					  <h1><a href="../index.html">Authomatic</a></h1>
					</li>
					<li class="toggle-topbar menu-icon"><a href="#"><span></span></a></li>
				</ul>
				 
				<section class="top-bar-section">
					<ul class="left"><li class="divider"></li></ul>
					
						<ul class="current">
<li class="has-dropdown toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="dropdown current">
<li class="toctree-l2"><a class="reference internal" href="config.html">Config</a></li>
<li class="has-dropdown toctree-l2 current"><a class="current reference internal" href="">Adapters</a><ul class="dropdown ">
<li class="toctree-l3"><a class="reference internal" href="#available-adapters">Available Adapters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementing-an-adapter">Implementing an Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="has-dropdown toctree-l2"><a class="reference internal" href="providers.html">Providers</a><ul class="dropdown ">
<li class="toctree-l3"><a class="reference internal" href="providers.html#oauth2-providers">OAuth 2.0 Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#oauth1-providers">OAuth 1.0a Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#openid-providers">OpenID Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#google-app-engine-openid-providers">Google App Engine OpenID Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#abstract-classes-for-providers">Abstract Classes for Providers</a></li>
</ul>
</li>
<li class="has-dropdown toctree-l2"><a class="reference internal" href="extras.html">Extras</a><ul class="dropdown ">
<li class="toctree-l3"><a class="reference internal" href="extras.html#gae-extras">Google App Engine Extras</a></li>
<li class="toctree-l3"><a class="reference internal" href="extras.html#interfaces">Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">JavaScript</a></li>
</ul>
</li>
<li class="has-dropdown toctree-l1"><a class="reference internal" href="../examples/index.html">Tutorials / Examples</a><ul class="dropdown ">
<li class="toctree-l2"><a class="reference internal" href="../examples/simple.html">Simple Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/credentials.html">Credentials</a></li>
</ul>
</li>
</ul>

					
					<ul class="left">
						
	<li class="divider"></li>

	
		<li><a href="config.html"  title="Config">&laquo; previous</a></li>
	
		
			<li><a href="../genindex.html"  title="General Index">index</a></li>
		
		
			<li><a href="../py-modindex.html"  title="Python Module Index">modules</a></li>
		
		
		

	
		<li><a href="functions.html"  title="Functions">next &raquo;</a></li>
	
					</ul>
				</section>
			</nav>
		</div><div id="header">
			<div class="row">
				
		        <div id="logo-container" class="large-6 columns">
		        	
	<div>
		<a href="../index.html">
		
	    	
	    		<img id="logo" src="../_static/img/authomatic.svg" />
	    	
		
		</a>
	</div>

		        </div>
		        <div class="large-6 columns">
		            <p id="motto">
						<span>Authomatic</span><br />
is an <em>authorization</em> / <em>authentication</em><br />
client library for Python web applications<br />
inspired by Alex Vagin’s
<a href="http://code.google.com/p/gae-simpleauth/" target="_blank">Simpleauth</a>.<br /> 
In fact, I almost named it <em>Deathsimpleauth</em>,<br /> 
but that name would be too long<br />
for a succinct library.
					</p>
		        </div>
		        
		    </div>
	    </div>
		
		
		
		<div class="row">
	
		<ul class="breadcrumbs">
			
		  	<li><a href="../index.html">Authomatic</a></li>

		  	
		  		<li><a href="index.html">Reference</a></li>

		  	
			<li class="current"><a href="">Adapters</a></li>
		</ul>
	</div>
		
		
		<div class="row">
			
			<div id="content" class="large-9 push-3 columns">
				
  <span class="target" id="module-authomatic.adapters"></span><div class="section" id="adapters">
<h1>Adapters<a class="headerlink" href="#adapters" title="Permalink to this headline">¶</a></h1>
<div class="contents topic" id="contents">
<p class="topic-title first">Contents</p>
<ul class="simple">
<li><a class="reference internal" href="#adapters" id="id1">Adapters</a><ul>
<li><a class="reference internal" href="#available-adapters" id="id2">Available Adapters</a></li>
<li><a class="reference internal" href="#implementing-an-adapter" id="id3">Implementing an Adapter</a></li>
</ul>
</li>
</ul>
</div>
<p>The <a class="reference internal" href="functions.html#authomatic.login" title="authomatic.login"><tt class="xref py py-func docutils literal"><span class="pre">authomatic.login()</span></tt></a> function needs access to functionality like
getting the url of the handler where it is called, getting the request params, headers and cookies and
writing the body, headers and status to the response.</p>
<p>Since implementation of these features varies across Python web frameworks,
the Authomatic library uses <strong>adapters</strong> to unify these differences into a single interface.</p>
<div class="section" id="available-adapters">
<h2>Available Adapters<a class="headerlink" href="#available-adapters" title="Permalink to this headline">¶</a></h2>
<p>Currently there is only the <a class="reference internal" href="#authomatic.adapters.Webapp2Adapter" title="authomatic.adapters.Webapp2Adapter"><tt class="xref py py-class docutils literal"><span class="pre">Webapp2Adapter</span></tt></a> available.</p>
<dl class="class">
<dt id="authomatic.adapters.Webapp2Adapter">
<em class="property">class </em><tt class="descclassname">authomatic.adapters.</tt><tt class="descname">Webapp2Adapter</tt><big>(</big><em>handler</em><big>)</big><a class="reference internal" href="../_modules/authomatic/adapters.html#Webapp2Adapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.Webapp2Adapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Adapter for the <a class="reference external" href="http://webapp-improved.appspot.com/">Webapp2</a> framework.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>handler</strong> &#8211; A <a class="reference external" href="http://webapp-improved.appspot.com/">Webapp2</a> <tt class="xref py py-class docutils literal"><span class="pre">RequestHandler</span></tt> instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="implementing-an-adapter">
<h2>Implementing an Adapter<a class="headerlink" href="#implementing-an-adapter" title="Permalink to this headline">¶</a></h2>
<p>Implementing an adapter for a Python web framework is pretty easy.</p>
<p>You do it by subclassing the <a class="reference internal" href="#authomatic.adapters.BaseAdapter" title="authomatic.adapters.BaseAdapter"><tt class="xref py py-class docutils literal"><span class="pre">BaseAdapter</span></tt></a> abstract class.
There are only <strong>seven</strong> members that you need to implement.</p>
<p>Moreover if your framework is based on the <a class="reference external" href="http://webob.org/">WebOb</a> library
you can subclass the <a class="reference internal" href="#authomatic.adapters.WebObBaseAdapter" title="authomatic.adapters.WebObBaseAdapter"><tt class="xref py py-class docutils literal"><span class="pre">WebObBaseAdapter</span></tt></a> and you only need to
override the constructor.</p>
<dl class="class">
<dt id="authomatic.adapters.BaseAdapter">
<em class="property">class </em><tt class="descclassname">authomatic.adapters.</tt><tt class="descname">BaseAdapter</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for platform adapters</p>
<p>Defines common interface for WSGI framework specific functionality.</p>
<dl class="method">
<dt id="authomatic.adapters.BaseAdapter.write">
<tt class="descname">write</tt><big>(</big><em>value</em><big>)</big><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter.write"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter.write" title="Permalink to this definition">¶</a></dt>
<dd><p>Must write specified value to response.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>value</strong> (<em>str</em>) &#8211; String to be written to response.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="authomatic.adapters.BaseAdapter.params">
<tt class="descname">params</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter.params"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter.params" title="Permalink to this definition">¶</a></dt>
<dd><p>Must return a dictionary of all request parameters of any HTTP method.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">dict</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="authomatic.adapters.BaseAdapter.url">
<tt class="descname">url</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter.url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter.url" title="Permalink to this definition">¶</a></dt>
<dd><p>Must return the url of the actual request including path but without query and fragment</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><tt class="xref py py-class docutils literal"><span class="pre">str</span></tt></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="authomatic.adapters.BaseAdapter.set_header">
<tt class="descname">set_header</tt><big>(</big><em>key</em>, <em>value</em><big>)</big><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter.set_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter.set_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Must set response headers to <tt class="docutils literal"><span class="pre">Key:</span> <span class="pre">value</span></tt>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>key</strong> (<em>str</em>) &#8211; Header name.</li>
<li><strong>value</strong> (<em>str</em>) &#8211; Header value.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="authomatic.adapters.BaseAdapter.headers">
<tt class="descname">headers</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter.headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>We need it to retrieve the session cookie.</p>
</dd></dl>

<dl class="attribute">
<dt id="authomatic.adapters.BaseAdapter.cookies">
<tt class="descname">cookies</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter.cookies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter.cookies" title="Permalink to this definition">¶</a></dt>
<dd><p>We need it to retrieve the session cookie.</p>
</dd></dl>

<dl class="method">
<dt id="authomatic.adapters.BaseAdapter.set_status">
<tt class="descname">set_status</tt><big>(</big><big>)</big><a class="reference internal" href="../_modules/authomatic/adapters.html#BaseAdapter.set_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.BaseAdapter.set_status" title="Permalink to this definition">¶</a></dt>
<dd><p>To set the staus in JSON endpoint.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="authomatic.adapters.WebObBaseAdapter">
<em class="property">class </em><tt class="descclassname">authomatic.adapters.</tt><tt class="descname">WebObBaseAdapter</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#WebObBaseAdapter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.WebObBaseAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Abstract base class for adapters for <a class="reference external" href="http://webob.org/">WebOb</a> based frameworks.</p>
<p>If you use this base class you only need to set the
<tt class="xref py py-attr docutils literal"><span class="pre">BaseAdapter.request</span></tt> to the <a class="reference external" href="http://webob.org/">WebOb</a> <tt class="xref py py-class docutils literal"><span class="pre">Request</span></tt> and
<tt class="xref py py-attr docutils literal"><span class="pre">BaseAdapter.response</span></tt> to the <a class="reference external" href="http://webob.org/">WebOb</a> <tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt>
in the constructor.</p>
<dl class="attribute">
<dt id="authomatic.adapters.WebObBaseAdapter.request">
<tt class="descname">request</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#WebObBaseAdapter.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.WebObBaseAdapter.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be a <a class="reference external" href="http://webob.org/">WebOb</a> <tt class="xref py py-class docutils literal"><span class="pre">Request</span></tt>.</p>
</dd></dl>

<dl class="attribute">
<dt id="authomatic.adapters.WebObBaseAdapter.response">
<tt class="descname">response</tt><a class="reference internal" href="../_modules/authomatic/adapters.html#WebObBaseAdapter.response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#authomatic.adapters.WebObBaseAdapter.response" title="Permalink to this definition">¶</a></dt>
<dd><p>Must be a <a class="reference external" href="http://webob.org/">WebOb</a> <tt class="xref py py-class docutils literal"><span class="pre">Response</span></tt>.</p>
</dd></dl>

</dd></dl>

</div>
</div>


			</div>
			
			
			
			<div id="navigation" class="large-3 pull-9 columns">
				<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="config.html">Config</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="">Adapters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#available-adapters">Available Adapters</a></li>
<li class="toctree-l3"><a class="reference internal" href="#implementing-an-adapter">Implementing an Adapter</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="classes.html">Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="providers.html">Providers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="providers.html#oauth2-providers">OAuth 2.0 Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#oauth1-providers">OAuth 1.0a Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#openid-providers">OpenID Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#google-app-engine-openid-providers">Google App Engine OpenID Providers</a></li>
<li class="toctree-l3"><a class="reference internal" href="providers.html#abstract-classes-for-providers">Abstract Classes for Providers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="extras.html">Extras</a><ul>
<li class="toctree-l3"><a class="reference internal" href="extras.html#gae-extras">Google App Engine Extras</a></li>
<li class="toctree-l3"><a class="reference internal" href="extras.html#interfaces">Interfaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="javascript.html">JavaScript</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../examples/index.html">Tutorials / Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../examples/simple.html">Simple Example</a></li>
<li class="toctree-l2"><a class="reference internal" href="../examples/credentials.html">Credentials</a></li>
</ul>
</li>
</ul>

			</div>
			
		</div>
		
		<div id="root_footer"></div>
	</div><div id="footer"><div id="bottom-nav"><span><a href="config.html"  title="Config">&laquo; previous</a></span>
			<span><a href="../genindex.html"  title="General Index">index</a></span>
				<span><a href="../py-modindex.html"  title="Python Module Index">modules</a></span>
				<span><a href="functions.html"  title="Functions">next &raquo;</a></span></div><div id="footer-notice">
			        &copy; Copyright 2013, Peter Hudec.
		        Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
	    </div></div><script>
		document.write('<script src=' +
		('__proto__' in {} ? '../_static/foundation/js/vendor/zepto' : 'js/vendor/jquery') +
		'.js><\/script>')
	</script>
	<script src="../_static/foundation/js/foundation.min.js"></script>
	<script src="../_static/foundation/js/foundation/foundation.topbar.js"></script>
	<script>
		$(document).foundation();
		
		/**
		 * Fallback svg to png.
		 * Taken from Todd Motto's article:
		 * http://toddmotto.com/mastering-svg-use-for-a-retina-web-fallbacks-with-png-script/
		 */
		if(!Modernizr.svg) {
		    $('img[src*="svg"]').attr('src', function() {
		        return $(this).attr('src').replace('.svg', '.png');
		    });
		}
		
		// Reset width of all table columns.
		$('col').attr('width', null);
		
		// Add "returns" class to all returns elements
		$(".field-name:contains('Returns:')").parent().addClass('returns')
		
		
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', 'UA-40552373-1']);
		_gaq.push(['_trackPageview']);
		(function() {
			var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
			ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
			var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
		})();
		
	</script>
</body>

</html>